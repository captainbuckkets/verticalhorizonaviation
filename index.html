<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vertical Horizon Aviation</title>
    <style>
        @font-face {
            font-family: 'Komu';
            src: url(Komu.otf);
        }

        @font-face {
            font-family: 'Noka';
            src: url(Noka.otf);
        }

        :root {
            --transition-speed: 800ms;
            --easing: cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html,
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            font-family: 'Noka';
            background: #5d5d5d;
            perspective: 1200px;
            touch-action: none;
        }

        a {
            color: black;
            text-decoration: underline;
        }

        a:visited {
            color: black;
        }

        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: 'Komu';
        }

        .top-page-title {
            position: absolute;
            left: 50%;
            transform: translate(-50%);
            width: -webkit-fill-available;
            width: 100%;
            color: #dfdfdf;
            font-family: 'Komu';
            text-align: center;
            top: 5%;
            z-index: 0;
        }

        .top-page-title h1 {
            font-family: 'Noka';
        }

        .book-container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .page {
            position: absolute;
            padding-left: 10%;
            padding-right: 10%;
            width: 90vw;
            max-width: 800px;
            height: 80vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #efefef;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform-origin: left center;
            transform-style: preserve-3d;
            border-top-left-radius: 8px;
            border-bottom-left-radius: 8px;
            border-top-right-radius: 16px;
            border-bottom-right-radius: 16px;
            backface-visibility: visible;
            transition: transform var(--transition-speed) var(--easing), box-shadow var(--transition-speed) var(--easing);
            border-left: 1px solid #212121;
        }

        .page > .background {
            background: white;
        }

        img.first {
            margin: 0;
            padding: 0px;
        }

        .page * {
            transition: filter var(--transition-speed) var(--easing);
        }

        .page.last.turned {
            z-index: 200 !important;
            
        }

        .page.last,
        .page-1 {
            background-image: url(images/white-fine-leather-textured-background.jpg);
            background-image: url(images/orange-fine-leather-textured-background.jpg);
            background-image: url(images/leather-macro-shot.jpg);
            background-size: cover;
            background-size: contain;
            outline: none;
            background: radial-gradient(#161616 15%, transparent 16%) 0 0, radial-gradient(#161616 15%, transparent 16%) 8px 8px, radial-gradient(rgba(255, 255, 255, .1) 15%, transparent 20%) 0 1px, radial-gradient(rgba(255, 255, 255, .1) 15%, transparent 20%) 8px 9px;
            background-color: #282828;
            background-size: 16px 16px;
            --s: 14px;
            --_g: #0000 83%, #353535 85% 99%, #0000 101%;
            background: radial-gradient(27% 29% at right, var(--_g)) calc(var(--s) / 2) var(--s), radial-gradient(27% 29% at left, var(--_g)) calc(var(--s) / -2) var(--s), radial-gradient(29% 27% at top, var(--_g)) 0 calc(var(--s) / 2), radial-gradient(29% 27% at bottom, var(--_g)) 0 calc(var(--s) / -2) #2b2b2b;
            background-size: calc(2 * var(--s)) calc(2 * var(--s));
        }

        .page.active {
            transform: perspective(1200px) rotateY(0deg) translateZ(0px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            transition: transform var(--transition-speed) var(--easing);
        }

        .page.behind {
            transform: perspective(1200px) rotateY(0deg) translateZ(-20px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .page.turning {
            transform: perspective(1200px) rotateY(-180deg) translateZ(-15px) translateX(6px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6);
        }

        .page.turned {
            transform: perspective(1200px) rotateY(-180deg) translateZ(-10px) translateX(10px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            pointer-events: none;
        }

        .page.no-transition {
            transition: none !important;
        }

        .title {
            text-align: center;
            font-size: 2.6em;
            margin-left: 15%;
            margin-right: 15%;
            color: #dbd5d5;
            background-blend-mode: difference;
            font-weight: bolder;
            letter-spacing: 1.2px;
        }

        .page h1 {
            font-size: 3rem;
            margin-bottom: 2rem;
            color: #333;
            text-align: center;
        }

        .page h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #444;
            text-align: center;
            letter-spacing: 1.4px;
        }

        .page p {
            font-size: 1rem;
            line-height: 1.6;
            color: #666;
            text-align: left;
            max-width: 600px;
            margin: 0 2rem;
            width: -webkit-fill-available;
        }

        .middle-section {
            top: 50%;
            position: absolute;
            left: 50%;
            width: 100%;
            transform: translate(-50%, -50%);
            background: transparent;
            justify-content: center;
            text-align: center;
            mix-blend-mode: exclusion;
        }

        .logo {
            font-size: 4rem;
            margin-left: auto;
            width: fit-content;
            margin-right: auto;
        }

        section.page.page-1.turned {
            margin-left: 0px;
        }

        .logo img {
            width: 250px !important;
            height: 250px !important;
            margin: 0px !important;
        }

        .page:nth-child(1) {
            color: white;
        }

        .page:nth-child(2) {
            color: white;
        }

        .page:nth-child(3) {
            color: #333;
        }

        .page:nth-child(4) {
            color: #333;
        }

        .page img {
            width: -webkit-fill-available;
            width: -moz-available;
            margin-left: 10%;
            margin-right: 10%;
            margin-bottom: 2.5%;
            margin-top: 2.5%;
            border-radius: 6px;
        }

        /* Visual indicators */
        .page-indicator {
            position: fixed;
            bottom: 8%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 300;
            pointer-events: none;
        }

        .page-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .page-dot.active {
            background: rgba(255, 255, 255, 0.8);
            transform: scale(1.2);
        }

        /* Swipe visual feedback */
        .swipe-indicator {
            position: fixed;
            display: none;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: rgba(255, 255, 255, 0.6);
            z-index: 250;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .swipe-indicator.left {
            left: 20px;
        }

        .swipe-indicator.right {
            right: 20px;
        }

        .swipe-indicator.show {
            opacity: 1;
        }

        /* Enhanced nav hint */
        .nav-hint {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffffff;
            font-size: 0.8rem;
            text-align: center;
            z-index: 300;
            width: 100%;
            opacity: 0.7;
        }

        /* Touch feedback */
        .page.touch-feedback {
            transform: perspective(1200px) rotateY(0deg) translateZ(5px) scale(0.98);
        }

        /* Smooth scroll momentum */
        .momentum-indicator {
            position: fixed;
            bottom: 8%;
            right: 20px;
            width: 40px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            z-index: 300;
            overflow: hidden;
        }

        .momentum-bar {
            height: 100%;
            background: rgba(164, 220, 255, 0.8);
            border-radius: 2px;
            width: 0%;
            transition: width 0.1s ease;
        }

        section.page.file {
            background: transparent;
            box-shadow: none;
            outline: none;
            border: none;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .page {
                width: 90vw;
                height: 70vh;
            }

            .page h1 {
                font-size: 2.5rem;
            }

            .page h2 {
                font-size: 2rem;
            }

            .page p {
                font-size: 0.9rem;
                margin: 0 1rem;
                margin-bottom: 2rem;
            }

            .logo img {
                width: 200px;
                height: 200px;
                margin: 0px !important;
            }

            .title {
                font-size: 1.4em;
            }
        }
    </style>
</head>

<body>
    <div class="top-page-title">
        <h1><span style="color: #e1675d">Vertical</span> <span style="color: #4fadcc;">Horizon</span> <span>Aviation</span></h1>
    </div>

    <div class="book-container">
        <section class="page active page-1">
            <div class="middle-section">
                <div class="logo"><img src="images/VHA_07.png" alt="Logo"></div>
                <div class="title"><span style="color: #e94234">Vertical</span> <span style="color: #4fadcc;">Horizon</span> <span>Aviation</span></div>
            </div>
        </section>

        <section class="page behind">
            <img src="images/first.png" class="first" alt="Logo">
            <h2>Brian Smiley</h2>
            <p><strong>Independent Flight Instructor Services</strong><br><br>Lorem ipsum dolor sit amet, consectetur
                adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
                fugiat nulla pariatur.</p>
        </section>

        <section class="page behind">
            <h2>Testimonials</h2>
            <p><strong>John Doe</strong> - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut enim ad minim
                veniam, quis nostrud exercitation ullamco laboris.</p><br>
            <p><strong>Jane Smith</strong> - Lorem ipsum dolor sit amet, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p><br>
            <p><strong>Emily Johnson</strong> - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis aute irure
                dolor in reprehenderit in voluptate.</p><br>
        </section>

        <section class="page behind">
            <h2>Pilot Certifications</h2>
            <p><strong>Total Flight Hours:</strong> 2,847 hours</p><br>
            <p><strong>Certifications:</strong> Commercial Pilot License (CPL), Instrument Rating (IR), Multi-Engine
                Rating</p><br>
            <p><strong>Aircraft Types:</strong> Cessna 172, Piper Cherokee, Beechcraft Baron, Cirrus SR22</p><br>
            <p><strong>Experience:</strong> Cross-country navigation, instrument approach procedures, emergency
                protocols</p><br>
        </section>

        <section class="page behind">
            <img src="images/second.jpg" alt="Aircraft cockpit view" />
            <img src="images/third.jpg" alt="Aerial landscape photography" />
            <img src="images/fourth.jpg" alt="Aerial landscape photography" />
        </section>

        <section class="page behind">
            <img src="images/fifth.jpg" alt="Aerial landscape photography" />
            <h2>Contact Me</h2>
            <p><strong>Email:</strong> <a href="mailto:aerokayak@comcast.net">aerokayak@comcast.net</a></p>
            <p><strong>Phone:</strong> <a href="tel:+13034758866">(303) 475-8866</a></p>
            <p><strong>Location:</strong> Denver, CO</p>
            <p><strong>Available for:</strong> Charter flights, flight instruction</p>
        </section>

        <section class="page behind last">
        </section>

        <section class="page behind file">
            <img src="images/VHA-02.png" alt="Aerial landscape photography" />
        </section>
    </div>

    <!-- Visual indicators -->
    <div class="page-indicator">
        <div class="page-dot active"></div>
        <div class="page-dot"></div>
        <div class="page-dot"></div>
        <div class="page-dot"></div>
        <div class="page-dot"></div>
        <div class="page-dot"></div>
    </div>

    <div class="swipe-indicator left">‹</div>
    <div class="swipe-indicator right">›</div>

    <div class="momentum-indicator">
        <div class="momentum-bar"></div>
    </div>

    <div class="nav-hint">
        Swipe up/down • Swipe left/right • Mouse wheel • Arrow keys
    </div>

    <script>
        const pages = [...document.querySelectorAll('.page')];
        const pageDots = [...document.querySelectorAll('.page-dot')];
        const leftIndicator = document.querySelector('.swipe-indicator.left');
        const rightIndicator = document.querySelector('.swipe-indicator.right');
        const momentumBar = document.querySelector('.momentum-bar');

        let current = 0;
        let isAnimating = false;
        let animationTimeout = null;
        let queuedPage = null;

        // Touch handling variables
        let touchStartX = null;
        let touchStartY = null;
        let touchStartTime = null;
        let lastTouchTime = null;
        let velocityX = 0;
        let velocityY = 0;
        let touchMoved = false;

        // Z-index management
        function updateZIndex() {
            pages.forEach((page, i) => {
                if (page.classList.contains('turning')) {
                    page.style.zIndex = 200;
                } else if (page.classList.contains('turned')) {
                    page.style.zIndex = 10 + i;
                } else if (page.classList.contains('active')) {
                    page.style.zIndex = 100;
                } else {
                    page.style.zIndex = 50 + (pages.length - i);
                }
            });
        }

        // Initialize pages
        function initializePages() {
            pages.forEach((page, i) => {
                page.classList.remove('active', 'behind', 'turning', 'turned', 'no-transition');
                if (i === 0) {
                    page.classList.add('active');
                } else {
                    page.classList.add('behind');
                }
            });
            updatePageIndicators();
            updateZIndex();
        }

        // Update page indicators
        function updatePageIndicators() {
            pageDots.forEach((dot, i) => {
                dot.classList.toggle('active', i === current);
            });
        }

        // Show swipe indicator
        function showSwipeIndicator(direction, strength = 1) {
            const indicator = direction === 'left' ? leftIndicator : rightIndicator;
            indicator.classList.add('show');
            indicator.style.opacity = Math.min(0.8, 0.3 + strength * 0.5);
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 300);
        }

        // Update momentum indicator
        function updateMomentumIndicator(velocity) {
            const normalizedVelocity = Math.min(Math.abs(velocity) / 10, 1);
            momentumBar.style.width = `${normalizedVelocity * 100}%`;
            setTimeout(() => {
                momentumBar.style.width = '0%';
            }, 200);
        }

        function showPage(targetIndex) {
            if (targetIndex === current || targetIndex < 0 || targetIndex >= pages.length) {
                return;
            }

            // If animating, queue this request
            if (isAnimating) {
                queuedPage = targetIndex;
                return;
            }

            isAnimating = true;
            const direction = targetIndex > current ? 'forward' : 'backward';

            if (direction === 'forward') {
                turnPageForward(targetIndex);
            } else {
                turnPageBackward(targetIndex);
            }

            // Update current immediately for responsive feel
            current = targetIndex;
            updatePageIndicators();
        }

        function turnPageForward(targetIndex) {
            const currentPage = pages[current];
            const nextPage = pages[targetIndex];

            // Prepare next page
            nextPage.classList.add('no-transition');
            nextPage.classList.remove('behind');
            nextPage.classList.add('active');
            void nextPage.offsetWidth; // Force reflow
            nextPage.classList.remove('no-transition');

            // Animate current page out
            currentPage.classList.remove('active');
            currentPage.classList.add('turning');

            updateZIndex();

            // Clear any existing timeout
            if (animationTimeout) {
                clearTimeout(animationTimeout);
            }

            // Complete animation
            animationTimeout = setTimeout(() => {
                currentPage.classList.remove('turning');
                currentPage.classList.add('turned');
                updateZIndex();

                isAnimating = false;
                animationTimeout = null;

                // Process queued page if any
                if (queuedPage !== null) {
                    const nextTarget = queuedPage;
                    queuedPage = null;
                    showPage(nextTarget);
                }
            }, 800); // Match your CSS transition time
        }

        function turnPageBackward(targetIndex) {
            const currentPage = pages[current];
            const prevPage = pages[targetIndex];

            // Prepare previous page
            prevPage.classList.add('no-transition');
            prevPage.classList.remove('behind', 'active');
            prevPage.classList.add('turned');
            void prevPage.offsetWidth; // Force reflow
            prevPage.classList.remove('no-transition');

            // Move current page back
            currentPage.classList.remove('active');
            currentPage.classList.add('behind');

            // Animate previous page in
            prevPage.classList.remove('turned');
            prevPage.classList.add('turning');

            updateZIndex();

            requestAnimationFrame(() => {
                prevPage.classList.remove('turning');
                prevPage.classList.add('active');
            });

            // Clear any existing timeout
            if (animationTimeout) {
                clearTimeout(animationTimeout);
            }

            // Complete animation
            animationTimeout = setTimeout(() => {
                updateZIndex();
                isAnimating = false;
                animationTimeout = null;

                // Process queued page if any
                if (queuedPage !== null) {
                    const nextTarget = queuedPage;
                    queuedPage = null;
                    showPage(nextTarget);
                }
            }, 800); // Match your CSS transition time
        }

        // Enhanced touch handling
        let touchTimeout;
        window.addEventListener('touchstart', (e) => {
            const touch = e.touches[0];
            touchStartX = touch.clientX;
            touchStartY = touch.clientY;
            touchStartTime = Date.now();
            touchMoved = false;
            velocityX = 0;
            velocityY = 0;

            // Add touch feedback
            const activePage = pages[current];
            activePage.classList.add('touch-feedback');
            clearTimeout(touchTimeout);
        }, { passive: true });

        window.addEventListener('touchmove', (e) => {
            if (touchStartX === null || touchStartY === null) return;

            const touch = e.touches[0];
            const deltaX = touch.clientX - touchStartX;
            const deltaY = touch.clientY - touchStartY;
            const deltaTime = Date.now() - lastTouchTime || 1;

            // Calculate velocity
            velocityX = deltaX / deltaTime;
            velocityY = deltaY / deltaTime;
            touchMoved = true;
            lastTouchTime = Date.now();

            // Show direction indicators based on swipe
            const absX = Math.abs(deltaX);
            const absY = Math.abs(deltaY);

            if (absX > 30 || absY > 30) {
                if (absX > absY) {
                    if (deltaX > 0 && current > 0) {
                        showSwipeIndicator('left', absX / 100);
                    } else if (deltaX < 0 && current < pages.length - 1) {
                        showSwipeIndicator('right', absX / 100);
                    }
                }
            }
        }, { passive: true });

        window.addEventListener('touchend', (e) => {
            if (touchStartX === null || touchStartY === null) return;

            const touch = e.changedTouches[0];
            const deltaX = touch.clientX - touchStartX;
            const deltaY = touch.clientY - touchStartY;
            const deltaTime = Date.now() - touchStartTime;
            const absX = Math.abs(deltaX);
            const absY = Math.abs(deltaY);

            // Remove touch feedback
            pages.forEach(page => page.classList.remove('touch-feedback'));

            // Determine if it's a quick swipe or slow drag
            const isQuickSwipe = deltaTime < 300;
            const minSwipeDistance = isQuickSwipe ? 50 : 100;

            // Update momentum indicator
            updateMomentumIndicator(Math.max(Math.abs(velocityX), Math.abs(velocityY)));

            let handled = false;

            // Horizontal swipes (left/right navigation)
            if (absX > absY && absX > minSwipeDistance) {
                if (deltaX > 0 && current > 0) {
                    showPage(current - 1);
                    handled = true;
                } else if (deltaX < 0 && current < pages.length - 1) {
                    showPage(current + 1);
                    handled = true;
                }
            }

            // Vertical swipes (up/down navigation) - only if horizontal wasn't handled
            if (!handled && absY > minSwipeDistance) {
                if (deltaY < 0 && current < pages.length - 1) {
                    showPage(current + 1);
                } else if (deltaY > 0 && current > 0) {
                    showPage(current - 1);
                }
            }

            // Reset touch variables
            touchStartX = null;
            touchStartY = null;
            touchStartTime = null;
            lastTouchTime = null;
            touchMoved = false;
        }, { passive: true });

        // Enhanced mouse wheel handling
        let wheelTimeout;
        let wheelDelta = 0;

        window.addEventListener('wheel', (e) => {
            e.preventDefault();

            // Accumulate wheel delta
            wheelDelta += e.deltaY;

            updateMomentumIndicator(Math.abs(wheelDelta) / 10);

            clearTimeout(wheelTimeout);
            wheelTimeout = setTimeout(() => {
                if (Math.abs(wheelDelta) > 50) {
                    if (wheelDelta > 0 && current < pages.length - 1) {
                        showPage(current + 1);
                    } else if (wheelDelta < 0 && current > 0) {
                        showPage(current - 1);
                    }
                }
                wheelDelta = 0;
            }, 50);
        }, { passive: false });

        // Keyboard navigation
        window.addEventListener('keydown', (e) => {
            switch (e.key) {
                case 'ArrowRight':
                case 'ArrowDown':
                case ' ':
                    e.preventDefault();
                    if (current < pages.length - 1) {
                        showSwipeIndicator('right');
                        showPage(current + 1);
                    }
                    break;
                case 'ArrowLeft':
                case 'ArrowUp':
                    e.preventDefault();
                    if (current > 0) {
                        showSwipeIndicator('left');
                        showPage(current - 1);
                    }
                    break;
            }
        });

        // Initialize
        initializePages();

        // Hide nav hint after first interaction
        let hasInteracted = false;
        function hideNavHint() {
            if (!hasInteracted) {
                hasInteracted = true;
                setTimeout(() => {
                    document.querySelector('.nav-hint').style.opacity = '0.3';
                }, 2000);
            }
        }

        ['touchstart', 'wheel', 'keydown'].forEach(event => {
            window.addEventListener(event, hideNavHint, { once: true });
        });
    </script>
</body>

</html>